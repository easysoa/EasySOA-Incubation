<?xml version="1.0" ?>
<component name="org.easysoa.registry.doctypes.core.ecmtype.contrib">

  <!-- ============ -->
  <!-- ECM Doctypes -->
  <!-- ============ -->
  
  <extension target="org.nuxeo.ecm.platform.types.TypeService" point="types">

    <!-- Systems hierarchies -->
    <type id="Repository" coretype="Repository">
      <label>Repository</label>
      <icon>/icons/workspace.gif</icon>
      <bigIcon>/icons/workspace_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
    </type>
    <type id="WorkspaceRoot" coretype="WorkspaceRoot">
      <subtypes>
        <type>SystemTreeRoot</type>
        <type>IntelligentSystemTreeRoot</type>
      </subtypes>
    </type>
    <type id="Workspace" coretype="Workspace">
      <subtypes>
        <type>SystemTreeRoot</type>
      </subtypes>
    </type>
    <type id="SystemTreeRoot" coretype="SystemTreeRoot">
      <label>System Tree Root</label>
      <icon>/icons/workspace.gif</icon>
      <bigIcon>/icons/workspace_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>TaggingFolder</type>
      </subtypes>
    </type>
    <type id="IntelligentSystemTreeRoot" coretype="IntelligentSystemTreeRoot">
      <label>Intelligent System Tree Root</label>
      <icon>/icons/ordered_folder.png</icon>
      <bigIcon>/icons/ordered_folder_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>IntelligentSystem</type>
      </subtypes>
    </type>
    <type id="TaggingFolder" coretype="TaggingFolder">
      <label>Tagging Folder</label>
      <icon>/icons/workspace.gif</icon>
      <bigIcon>/icons/workspace_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
        <layout>default_summary_layout</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>File</type>
        <type>TaggingFolder</type>
        <type>SoftwareComponent</type>
        <type>Service</type>
        <type>Deliverable</type>
        <type>ServiceImplementation</type>
        <type>DeployedDeliverable</type>
        <type>Endpoint</type>
      </subtypes>
    </type>
    <type id="IntelligentSystem" coretype="IntelligentSystem">
      <label>Intelligent System</label>
      <icon>/icons/ordered_folder.png</icon>
      <bigIcon>/icons/ordered_folder_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
        <layout>default_summary_layout</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
    </type>

    <!-- Architecture level -->
    <type id="SoftwareComponent" coretype="SoftwareComponent">
      <label>Software Component</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>Deliverable</type>
      </subtypes>
    </type>
    <type id="Service" coretype="Service">
      <label>Service</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>ServiceImplementation</type>
      </subtypes>
    </type>

    <!-- Implementation level -->
    <type id="Deliverable" coretype="Deliverable">
      <label>Deliverable</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>soaversion</layout>
        <layout>deliverable</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
        <layout>dublincore</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>ServiceImplementation</type>
        <type>DeployedDeliverable</type>
      </subtypes>
    </type>
    <type id="ServiceImplementation" coretype="ServiceImplementation">
      <label>Service Implementation</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>serviceimpl</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>Endpoint</type>
      </subtypes>
    </type>
    <type id="EndpointConsumption" coretype="EndpointConsumption">
      <label>Endpoint Consumption</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>Endpoint</type>
      </subtypes>
    </type>

    <!-- Deployment level -->
    <type id="DeployedDeliverable" coretype="DeployedDeliverable">
      <label>Deployed Deliverable</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>environment</layout>
        <layout>files</layout>
      </layouts>
      <layouts mode="listing">
        <layout>document_listing</layout>
        <layout>document_listing_compact_2_columns</layout>
        <layout>document_listing_icon_2_columns</layout>
      </layouts>
      <contentViews category="content">
        <contentView>document_content</contentView>
      </contentViews>
      <contentViews category="trash_content">
        <contentView showInExportView="false">
          document_trash_content
        </contentView>
      </contentViews>
      <subtypes>
        <type>Endpoint</type>
      </subtypes>
    </type>
    <type id="Endpoint" coretype="Endpoint">
      <label>Endpoint</label>
      <icon>/icons/file.gif</icon>
      <bigIcon>/icons/file_100.png</bigIcon>
      <default-view>view_documents</default-view>
      <layouts mode="any">
        <layout>heading</layout>
        <layout>soanode</layout>
        <layout>endpoint</layout>
        <layout>environment</layout>
        <layout>file</layout><!-- TODO to allow upload using CMIS in JWT export -->
        <layout>files</layout>
      </layouts>
    </type>

  </extension>

</component>